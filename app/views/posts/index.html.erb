
  <div class="row">
    <div class="col-md-8">
      <h1>Recent Blog Posts</h1>

      <table class="table">
        <tr>
          <th>Title</th>
          <th>Content</th>
          <th></th>
          <th></th>
          <th></th>
          <th></th>
        </tr>
        <% @posts.each do |post| %>
        <tr id="<%= dom_id(post) %>">
          <% if policy(post).show? %>
          <td><%= post.title %></td>
          <td><%= post.content %></td>
          <td style="color:red">
          <% unless post.published? %>
          Unpublished
          <% end %>
          </td>
          <td><%= button_to 'Show', post, :method => "get", class: "btn" %></td>
          <% end %>
          <% if policy(post).update? %>
          <td><%= button_to 'Edit', edit_post_path(post), :method => "get", class: "btn btn-primary" %></td>
          <% end %>
          <% if policy(post).destroy? %>
          <td><%= button_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure you want to delete this post?' }, class: "btn btn-danger" %></button></td>
          <% end %>
        </tr>
        <% end %>
      </table>

      <% if current_user && (current_user.editor? || current_user.author?) %>
        <%= button_to 'New Post', new_post_path, :method => "get", class: "btn btn-success" %>
      <% end %>
    </div>
  </div>
